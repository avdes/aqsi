<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1" charset="UTF-8">
    <title>processChequeNoUi</title>
    <link href="../../../images/logo-icon.svg" rel="icon" type="image/svg">
    <script>var pathToRoot = "../../../";</script>
    <script>const storage = localStorage.getItem("dokka-dark-mode")
    if (storage == null) {
        const osDarkSchemePreferred = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches
        if (osDarkSchemePreferred === true) {
            document.getElementsByTagName("html")[0].classList.add("theme-dark")
        }
    } else {
        const savedDarkMode = JSON.parse(storage)
        if(savedDarkMode === true) {
            document.getElementsByTagName("html")[0].classList.add("theme-dark")
        }
    }
    </script>
<script src="https://unpkg.com/kotlin-playground@1"></script><script type="text/javascript" src="../../../scripts/sourceset_dependencies.js" async="async"></script>
<link href="../../../styles/style.css" rel="Stylesheet">
<link href="../../../styles/jetbrains-mono.css" rel="Stylesheet">
<link href="../../../styles/main.css" rel="Stylesheet">
<link href="../../../styles/prism.css" rel="Stylesheet">
<link href="../../../styles/logo-styles.css" rel="Stylesheet">
<script type="text/javascript" src="../../../scripts/clipboard.js" async="async"></script>
<script type="text/javascript" src="../../../scripts/navigation-loader.js" async="async"></script>
<script type="text/javascript" src="../../../scripts/platform-content-handler.js" async="async"></script>
<script type="text/javascript" src="../../../scripts/main.js" defer="defer"></script>
<script type="text/javascript" src="../../../scripts/prism.js" async="async"></script>
<script type="text/javascript" src="../../../scripts/symbol-parameters-wrapper_deferred.js" defer="defer"></script>
<link href="../../../images/logo-icon.svg">
<link href="../../../styles/logo-styles.css" rel="Stylesheet">
</head>
<body>
<div class="navigation-wrapper" id="navigation-wrapper">
    <div id="leftToggler"><span class="icon-toggler"></span></div>
    <div class="library-name">
            <a href="../../../index.html">
                    <span>SDK</span>
            </a>
    </div>
    <div>
1.37.0-rc.1    </div>
    <div class="pull-right d-flex">
        <button id="theme-toggle-button"><span id="theme-toggle"></span></button>
        <div id="searchBar"></div>
    </div>
</div>
<div id="container">
    <div id="leftColumn">
        <div id="sideMenu"></div>
    </div>
    <div id="main">
<div class="main-content" id="content" pageIds="SDK::ru.aqsi.commons.rmk/AqsiRMK/processChequeNoUi/#android.content.Context#java.util.ArrayList[ru.aqsi.commons.models.ChequePosition]#ru.aqsi.commons.receivers.AqsiResultReceiver.ResultReceiverCallBack?#kotlin.Int#kotlin.Int?#java.util.ArrayList[ru.aqsi.commons.models.printingModels.BasePrintingModel]?#java.util.ArrayList[ru.aqsi.commons.models.printingModels.BasePrintingModel]?#kotlin.String?#kotlin.String?#kotlin.String?/PointingToDeclaration//1757799368">
  <div class="breadcrumbs"><a href="../../../index.html">SDK</a><span class="delimiter">/</span><a href="../index.html">ru.aqsi.commons.rmk</a><span class="delimiter">/</span><a href="index.html">AqsiRMK</a><span class="delimiter">/</span><span class="current">processChequeNoUi</span></div>
  <div class="cover ">
    <h1 class="cover"><span>process</span><wbr></wbr><span>Cheque</span><wbr></wbr><span>No</span><wbr></wbr><span><span>Ui</span></span></h1>
  </div>
  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":commons:dokkaHtml/release"><div class="symbol monospace"><span class="token keyword"></span><span class="token keyword">fun </span><a href="process-cheque-no-ui.html"><span class="token function"><strike>processChequeNoUi</strike></span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">context<span class="token operator">: </span><a href="https://developer.android.com/reference/kotlin/android/content/Context.html">Context</a><span class="token punctuation">, </span></span><span class="parameter ">chequePositions<span class="token operator">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-array-list/index.html">ArrayList</a><span class="token operator">&lt;</span><span class="token keyword"></span><a href="../../ru.aqsi.commons.models/-cheque-position/index.html">ChequePosition</a><span class="token operator">&gt;</span><span class="token punctuation">, </span></span><span class="parameter ">aqsiResultReceiverCallback<span class="token operator">: </span><a href="../../ru.aqsi.commons.receivers/-aqsi-result-receiver/-result-receiver-call-back/index.html">AqsiResultReceiver.ResultReceiverCallBack</a><span class="token operator">?</span><span class="token operator"> = </span>null<span class="token punctuation">, </span></span><span class="parameter ">chequeType<span class="token operator">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/index.html">Int</a><span class="token operator"> = </span>ChequeType.INPUT.id<span class="token punctuation">, </span></span><span class="parameter ">paymentMethod<span class="token operator">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/index.html">Int</a><span class="token operator">?</span><span class="token operator"> = </span>null<span class="token punctuation">, </span></span><span class="parameter ">printingListBefore<span class="token operator">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-array-list/index.html">ArrayList</a><span class="token operator">&lt;</span><span class="token keyword"></span><a href="../../ru.aqsi.commons.models.printingModels/-base-printing-model/index.html">BasePrintingModel</a><span class="token operator">&gt;</span><span class="token operator">?</span><span class="token operator"> = </span>null<span class="token punctuation">, </span></span><span class="parameter ">printingListAfter<span class="token operator">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-array-list/index.html">ArrayList</a><span class="token operator">&lt;</span><span class="token keyword"></span><a href="../../ru.aqsi.commons.models.printingModels/-base-printing-model/index.html">BasePrintingModel</a><span class="token operator">&gt;</span><span class="token operator">?</span><span class="token operator"> = </span>null<span class="token punctuation">, </span></span><span class="parameter ">clientContactForElectroReceipt<span class="token operator">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html">String</a><span class="token operator">?</span><span class="token operator"> = </span>null<span class="token punctuation">, </span></span><span class="parameter ">clientName<span class="token operator">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html">String</a><span class="token operator">?</span><span class="token operator"> = </span>null<span class="token punctuation">, </span></span><span class="parameter ">clientInn<span class="token operator">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html">String</a><span class="token operator">?</span><span class="token operator"> = </span>null</span></span><span class="token punctuation">)</span></div><div class="deprecation-content"><h3 class="">Deprecated</h3><p class="paragraph">Use AqsiRMK.processChequeInBackground()</p></div><p class="paragraph">Пробить чек с помощью кассы Акси. Товары передаются в виде массива <a href="../../ru.aqsi.commons.models/-cheque-position/index.html">моделей товара</a>. Это более простой метод, который просто печатает чек, без перекидывания в графический интерфейс aQsi РМК. В этом случае всю логику проведения операции оформления чека следует реализовать на стороне вашего приложения. Обратите внимание на более простой метод, где логика проведения операции оформления чека реалзована на стороне приложения РМК: <a href="process-cheque.html">processCheque</a> Метод может работать некорректно при использовании Proguard.</p><h4 class="">Parameters</h4><div data-togglable="Parameters"><div class="table" data-togglable="Parameters"><div class="table-row" data-filterable-current=":commons:dokkaHtml/release" data-filterable-set=":commons:dokkaHtml/release"><div class="main-subrow keyValue WithExtraAttributes"><div class=""><span class="inline-flex"><div><u><span><span>context</span></span></u></div></span></div><div><div class="title"><div data-togglable="Parameters"><p class="paragraph">контекст вызова метода</p></div></div></div></div></div><div class="table-row" data-filterable-current=":commons:dokkaHtml/release" data-filterable-set=":commons:dokkaHtml/release"><div class="main-subrow keyValue WithExtraAttributes"><div class=""><span class="inline-flex"><div><u><span>cheque</span><wbr></wbr><span><span>Positions</span></span></u></div></span></div><div><div class="title"><div data-togglable="Parameters"><p class="paragraph">массив <a href="../../ru.aqsi.commons.models/-cheque-position/index.html">товаров</a>, на которые необходимо пробить чек возврата</p></div></div></div></div></div><div class="table-row" data-filterable-current=":commons:dokkaHtml/release" data-filterable-set=":commons:dokkaHtml/release"><div class="main-subrow keyValue WithExtraAttributes"><div class=""><span class="inline-flex"><div><u><span>aqsi</span><wbr></wbr><span>Result</span><wbr></wbr><span>Receiver</span><wbr></wbr><span><span>Callback</span></span></u></div></span></div><div><div class="title"><div data-togglable="Parameters"><p class="paragraph">В случае оплаты по карте возвращает ответ эквайрингового ядра в XML. Описание параметров XML необходимо запросить дополнительно либо, по возможности, понять на основе названий тэгов</p></div></div></div></div></div><div class="table-row" data-filterable-current=":commons:dokkaHtml/release" data-filterable-set=":commons:dokkaHtml/release"><div class="main-subrow keyValue WithExtraAttributes"><div class=""><span class="inline-flex"><div><u><span>cheque</span><wbr></wbr><span><span>Type</span></span></u></div></span></div><div><div class="title"><div data-togglable="Parameters"><p class="paragraph">тип чека. Можно воспользоваться справочником <a href="../../ru.aqsi.commons.rmk.enums/-cheque-type/index.html">ru.aqsi.commons.rmk.enums.ChequeType</a>. В данном случае принимается только Возврат прихода или Возврат расхода</p></div></div></div></div></div><div class="table-row" data-filterable-current=":commons:dokkaHtml/release" data-filterable-set=":commons:dokkaHtml/release"><div class="main-subrow keyValue WithExtraAttributes"><div class=""><span class="inline-flex"><div><u><span>payment</span><wbr></wbr><span><span>Method</span></span></u></div></span></div><div><div class="title"><div data-togglable="Parameters"><p class="paragraph">тип оплаты. 0 - наличные, 1 - электронными. Можно воспользоваться справочником <a href="../../ru.aqsi.commons.rmk.enums/-payment-method/index.html">ru.aqsi.commons.rmk.enums.PaymentMethod</a>.</p></div></div></div></div></div><div class="table-row" data-filterable-current=":commons:dokkaHtml/release" data-filterable-set=":commons:dokkaHtml/release"><div class="main-subrow keyValue WithExtraAttributes"><div class=""><span class="inline-flex"><div><u><span>printing</span><wbr></wbr><span>List</span><wbr></wbr><span><span>Before</span></span></u></div></span></div><div><div class="title"><div data-togglable="Parameters"><p class="paragraph">массив объектов нефискальной печати, которые будут напечатаны перед чеком,  массив объектов для печати представлен в <a href="../../ru.aqsi.commons.models.printingModels/-base-printing-model/index.html">ru.aqsi.commons.models.printingModels.BasePrintingModel</a></p></div></div></div></div></div><div class="table-row" data-filterable-current=":commons:dokkaHtml/release" data-filterable-set=":commons:dokkaHtml/release"><div class="main-subrow keyValue WithExtraAttributes"><div class=""><span class="inline-flex"><div><u><span>printing</span><wbr></wbr><span>List</span><wbr></wbr><span><span>After</span></span></u></div></span></div><div><div class="title"><div data-togglable="Parameters"><p class="paragraph">массив объектов нефискальной печати, которые будут напечатаны после чека, ,  массив объектов для печати представлен в <a href="../../ru.aqsi.commons.models.printingModels/-base-printing-model/index.html">ru.aqsi.commons.models.printingModels.BasePrintingModel</a></p></div></div></div></div></div><div class="table-row" data-filterable-current=":commons:dokkaHtml/release" data-filterable-set=":commons:dokkaHtml/release"><div class="main-subrow keyValue WithExtraAttributes"><div class=""><span class="inline-flex"><div><u><span>client</span><wbr></wbr><span>Contact</span><wbr></wbr><span>For</span><wbr></wbr><span>Electro</span><wbr></wbr><span><span>Receipt</span></span></u></div></span></div><div><div class="title"><div data-togglable="Parameters"><p class="paragraph">контакт клиента. Емэйл или телефон клиента, используется для электронного чека.</p><p class="paragraph">Должен соответствовать формату указанному в <a href="http://www.consultant.ru/cons/cgi/online.cgi?req=doc&amp;base=LAW&amp;n=341652&amp;dst=655&amp;date=19.06.2020">ФФД</a> (+{Ц} или {С}@{С}), тэг 1008</p></div></div></div></div></div><div class="table-row" data-filterable-current=":commons:dokkaHtml/release" data-filterable-set=":commons:dokkaHtml/release"><div class="main-subrow keyValue WithExtraAttributes"><div class=""><span class="inline-flex"><div><u><span>client</span><wbr></wbr><span><span>Name</span></span></u></div></span></div><div><div class="title"><div data-togglable="Parameters"><p class="paragraph">получатель, тэг 1227</p></div></div></div></div></div><div class="table-row" data-filterable-current=":commons:dokkaHtml/release" data-filterable-set=":commons:dokkaHtml/release"><div class="main-subrow keyValue WithExtraAttributes"><div class=""><span class="inline-flex"><div><u><span>client</span><wbr></wbr><span><span>Inn</span></span></u></div></span></div><div><div class="title"><div data-togglable="Parameters"><p class="paragraph">инн получателя, тэг 1228</p></div></div></div></div></div></div></div><hr><div class="symbol monospace"><span class="token keyword"></span><span class="token keyword">fun </span><a href="process-cheque-no-ui.html"><span class="token function"><strike>processChequeNoUi</strike></span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">context<span class="token operator">: </span><a href="https://developer.android.com/reference/kotlin/android/content/Context.html">Context</a><span class="token punctuation">, </span></span><span class="parameter ">chequePositions<span class="token operator">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-array-list/index.html">ArrayList</a><span class="token operator">&lt;</span><span class="token keyword"></span><a href="../../ru.aqsi.commons.models/-cheque-position/index.html">ChequePosition</a><span class="token operator">&gt;</span><span class="token punctuation">, </span></span><span class="parameter ">aqsiDataResultReceiverCallback<span class="token operator">: </span><a href="../../ru.aqsi.commons.receivers/-aqsi-data-result-receiver/-aqsi-callback/index.html">AqsiDataResultReceiver.AqsiCallback</a><span class="token operator">&lt;</span><span class="token keyword"></span><a href="../../ru.aqsi.commons.models/-params-cheque-print/index.html">ParamsChequePrint</a><span class="token operator">&gt;</span><span class="token operator">?</span><span class="token operator"> = </span>null<span class="token punctuation">, </span></span><span class="parameter ">chequeType<span class="token operator">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/index.html">Int</a><span class="token operator"> = </span>ChequeType.INPUT.id<span class="token punctuation">, </span></span><span class="parameter ">payments<span class="token operator">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-array-list/index.html">ArrayList</a><span class="token operator">&lt;</span><span class="token keyword"></span><a href="../../ru.aqsi.commons.models/-payment/index.html">Payment</a><span class="token operator">&gt;</span><span class="token punctuation">, </span></span><span class="parameter ">printingListBefore<span class="token operator">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-array-list/index.html">ArrayList</a><span class="token operator">&lt;</span><span class="token keyword"></span><a href="../../ru.aqsi.commons.models.printingModels/-base-printing-model/index.html">BasePrintingModel</a><span class="token operator">&gt;</span><span class="token operator">?</span><span class="token operator"> = </span>null<span class="token punctuation">, </span></span><span class="parameter ">printingListAfter<span class="token operator">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-array-list/index.html">ArrayList</a><span class="token operator">&lt;</span><span class="token keyword"></span><a href="../../ru.aqsi.commons.models.printingModels/-base-printing-model/index.html">BasePrintingModel</a><span class="token operator">&gt;</span><span class="token operator">?</span><span class="token operator"> = </span>null<span class="token punctuation">, </span></span><span class="parameter ">clientContactForElectroReceipt<span class="token operator">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html">String</a><span class="token operator">?</span><span class="token operator"> = </span>null<span class="token punctuation">, </span></span><span class="parameter ">clientName<span class="token operator">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html">String</a><span class="token operator">?</span><span class="token operator"> = </span>null<span class="token punctuation">, </span></span><span class="parameter ">clientInn<span class="token operator">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html">String</a><span class="token operator">?</span><span class="token operator"> = </span>null</span></span><span class="token punctuation">)</span></div><div class="deprecation-content"><h3 class="">Deprecated</h3><p class="paragraph">Use AqsiRMK.processChequeInBackground()</p></div><p class="paragraph">Пробить чек с помощью кассы Акси. Товары передаются в виде массива <a href="../../ru.aqsi.commons.models/-cheque-position/index.html">моделей товара</a>. Это более простой метод, который просто печатает чек, без перекидывания в графический интерфейс aQsi РМК. В этом случае всю логику проведения операции оформления чека следует реализовать на стороне вашего приложения. Обратите внимание на более простой метод, где логика проведения операции оформления чека реалзована на стороне приложения РМК: <a href="process-cheque.html">processCheque</a> Метод может работать некорректно при использовании Proguard.</p><h4 class="">Samples</h4><div class="sample-container"><pre><code class="runnablesample monospace block lang-kotlin" theme="idea">import android.content.Context
import android.graphics.Bitmap
import android.util.Log
import android.widget.Toast
import com.google.gson.Gson
import com.google.gson.internal.bind.util.ISO8601Utils
import ru.aqsi.commons.getWarningList
import ru.aqsi.commons.market.AqsiMarket
import ru.aqsi.commons.models.*
import ru.aqsi.commons.models.printingModels.*
import ru.aqsi.commons.models.shifts.Reconciliation
import ru.aqsi.commons.receivers.*
import ru.aqsi.commons.rmk.AqsiAcquiring
import ru.aqsi.commons.rmk.AqsiRMK
import ru.aqsi.commons.rmk.enums.*
import ru.aqsi.commons.rmk.getActiveCashier
import java.text.DecimalFormat
import java.text.DecimalFormatSymbols
import java.util.*
import kotlin.collections.ArrayList
fun main() { 
   //sampleStart 
   val payments = ArrayList&lt;Payment&gt;()
val cash = Payment(type = PaymentMethod.CASH.id, amount = 100.00)
payments.add(cash)

val printingListBefore = ArrayList&lt;BasePrintingModel&gt;()
printingListBefore.add(
    StringPrintingModel(
        &quot;Текст до&quot;,
        BasePrintingModel.SMALL_TEXT_SIZE
    )
)
printingListBefore.add(
    QrShtrihCodePrintingModel(
        &quot;138015661812&quot;,
        qrStrihCodeType = QrShtrihCodeType.EAN_13
    )
)
printingListBefore.add(
    QrShtrihCodePrintingModel(
        &quot;59012344&quot;,
        qrStrihCodeType = QrShtrihCodeType.EAN_8
    )
)
val printingListAfter = ArrayList&lt;BasePrintingModel&gt;()
printingListAfter.add(
    StringPrintingModel(
        &quot;Текст после&quot;,
        BasePrintingModel.SMALL_TEXT_SIZE
    )
)
printingListAfter.add(QrShtrihCodePrintingModel(&quot;Текст в QR коде&quot;, &quot;Текст около QR кода&quot;))

val products = arrayListOf(
    ChequePosition(
        quantity = 1.0,
        priceBrutto = 100.0,
        price = 100.0,
        text = &quot;Тестовый т&quot;,
        tax = TaxType.TAX_20.id,
        paymentMethodType = PaymentType.FULL_PAYMENT.id,
        paymentSubjectType = BargainSubject.GOODS.id,
        unitCode = QuantityUnit.SM2.id,
        itemCode = &quot;010046209849000021\&quot;O&amp;_u5X 8005017500 93dGVz&quot;,
        nomenclatureCode = &quot;RE0Aa5c3YpAiTyZfdTVY&quot;
    )
)

AqsiRMK.processChequeNoUi(
    context = context,
    chequePositions = products,
    aqsiDataResultReceiverCallback = object :
        AqsiDataResultReceiver.AqsiCallback&lt;ParamsChequePrint&gt; {
        override fun onSuccess(
            result: ParamsChequePrint?,
            errorList: ArrayList&lt;Throwable&gt;?
        ) {
            successOperation(context, result, errorList)
        }

        override fun onError(exception: Exception?) {
            errorOperation(context, exception)
        }
    },
    chequeType = ChequeType.INPUT.id,
    payments = payments,
    printingListBefore = printingListBefore,
    printingListAfter = printingListAfter,
    clientContactForElectroReceipt = &quot;test@aqsi.ru&quot;
) 
   //sampleEnd
}</code></pre></div><div class="sample-container"><pre><code class="runnablesample monospace block lang-kotlin" theme="idea">import android.content.Context
import android.graphics.Bitmap
import android.util.Log
import android.widget.Toast
import com.google.gson.Gson
import com.google.gson.internal.bind.util.ISO8601Utils
import ru.aqsi.commons.getWarningList
import ru.aqsi.commons.market.AqsiMarket
import ru.aqsi.commons.models.*
import ru.aqsi.commons.models.printingModels.*
import ru.aqsi.commons.models.shifts.Reconciliation
import ru.aqsi.commons.receivers.*
import ru.aqsi.commons.rmk.AqsiAcquiring
import ru.aqsi.commons.rmk.AqsiRMK
import ru.aqsi.commons.rmk.enums.*
import ru.aqsi.commons.rmk.getActiveCashier
import java.text.DecimalFormat
import java.text.DecimalFormatSymbols
import java.util.*
import kotlin.collections.ArrayList
fun main() { 
   //sampleStart 
   val printingListBefore = ArrayList&lt;BasePrintingModel&gt;()
printingListBefore.add(
    StringPrintingModel(
        &quot;Текст до&quot;,
        BasePrintingModel.SMALL_TEXT_SIZE
    )
)
printingListBefore.add(
    QrShtrihCodePrintingModel(
        &quot;138015661812&quot;,
        qrStrihCodeType = QrShtrihCodeType.EAN_13
    )
)
printingListBefore.add(
    QrShtrihCodePrintingModel(
        &quot;59012344&quot;,
        qrStrihCodeType = QrShtrihCodeType.EAN_8
    )
)
val printingListAfter = ArrayList&lt;BasePrintingModel&gt;()
printingListAfter.add(
    StringPrintingModel(
        &quot;Текст после&quot;,
        BasePrintingModel.SMALL_TEXT_SIZE
    )
)
printingListAfter.add(QrShtrihCodePrintingModel(&quot;Текст в QR коде&quot;, &quot;Текст около QR кода&quot;))

val payments = ArrayList&lt;Payment&gt;()
val cash = Payment(type = PaymentMethod.CASH.id, amount = 100.00)
payments.add(cash)

val products = arrayListOf(
    ChequePosition(
        quantity = 1.0,
        priceBrutto = 100.0,
        price = 100.0,
        text = &quot;Тестовый т&quot;,
        tax = TaxType.TAX_20.id,
        paymentMethodType = PaymentType.FULL_PAYMENT.id,
        paymentSubjectType = BargainSubject.GOODS.id,
        unitCode = QuantityUnit.KV.id,
        itemCode = &quot;010046209849000021\&quot;O&amp;_u5X 8005017500 93dGVz&quot;,
        nomenclatureCode = &quot;RE0Aa5c3YpAiTyZfdTVY&quot;
    )
)

AqsiRMK.processChequeInBackground(
    context = context,
    callback = object : AqsiDataResultReceiver.AqsiCallback&lt;Cheque&gt; {
        override fun onSuccess(
            result: Cheque?,
            errorList: ArrayList&lt;Throwable&gt;?
        ) {
            successOperation(context, result, errorList)
        }

        override fun onError(exception: Exception?) {
            errorOperation(context, exception)
        }
    },
    positions = products,
    payments = payments,
    chequeType = ChequeType.REFUND.id,
    printingListBefore = printingListBefore,
    printingListAfter = printingListAfter
) 
   //sampleEnd
}</code></pre></div><h4 class="">Parameters</h4><div data-togglable="Parameters"><div class="table" data-togglable="Parameters"><div class="table-row" data-filterable-current=":commons:dokkaHtml/release" data-filterable-set=":commons:dokkaHtml/release"><div class="main-subrow keyValue WithExtraAttributes"><div class=""><span class="inline-flex"><div><u><span><span>context</span></span></u></div></span></div><div><div class="title"><div data-togglable="Parameters"><p class="paragraph">контекст вызова метода</p></div></div></div></div></div><div class="table-row" data-filterable-current=":commons:dokkaHtml/release" data-filterable-set=":commons:dokkaHtml/release"><div class="main-subrow keyValue WithExtraAttributes"><div class=""><span class="inline-flex"><div><u><span>cheque</span><wbr></wbr><span><span>Positions</span></span></u></div></span></div><div><div class="title"><div data-togglable="Parameters"><p class="paragraph">массив <a href="../../ru.aqsi.commons.models/-cheque-position/index.html">товаров</a>, на которые необходимо пробить чек возврата</p></div></div></div></div></div><div class="table-row" data-filterable-current=":commons:dokkaHtml/release" data-filterable-set=":commons:dokkaHtml/release"><div class="main-subrow keyValue WithExtraAttributes"><div class=""><span class="inline-flex"><div><u><span>aqsi</span><wbr></wbr><span>Data</span><wbr></wbr><span>Result</span><wbr></wbr><span>Receiver</span><wbr></wbr><span><span>Callback</span></span></u></div></span></div><div><div class="title"><div data-togglable="Parameters"><p class="paragraph">callback, в случае успеха возвращает параметры печати чека <a href="../../ru.aqsi.commons.models/-params-cheque-print/index.html">ru.aqsi.commons.models.ParamsChequePrint</a></p></div></div></div></div></div><div class="table-row" data-filterable-current=":commons:dokkaHtml/release" data-filterable-set=":commons:dokkaHtml/release"><div class="main-subrow keyValue WithExtraAttributes"><div class=""><span class="inline-flex"><div><u><span>cheque</span><wbr></wbr><span><span>Type</span></span></u></div></span></div><div><div class="title"><div data-togglable="Parameters"><p class="paragraph">тип чека. Можно воспользоваться справочником <a href="../../ru.aqsi.commons.rmk.enums/-cheque-type/index.html">ru.aqsi.commons.rmk.enums.ChequeType</a>.</p></div></div></div></div></div><div class="table-row" data-filterable-current=":commons:dokkaHtml/release" data-filterable-set=":commons:dokkaHtml/release"><div class="main-subrow keyValue WithExtraAttributes"><div class=""><span class="inline-flex"><div><u><span><span>payments</span></span></u></div></span></div><div><div class="title"><div data-togglable="Parameters"><p class="paragraph">массив <a href="../../ru.aqsi.commons.models/-payment/index.html">платежей</a>, которыми был оплачен чек</p></div></div></div></div></div><div class="table-row" data-filterable-current=":commons:dokkaHtml/release" data-filterable-set=":commons:dokkaHtml/release"><div class="main-subrow keyValue WithExtraAttributes"><div class=""><span class="inline-flex"><div><u><span>printing</span><wbr></wbr><span>List</span><wbr></wbr><span><span>Before</span></span></u></div></span></div><div><div class="title"><div data-togglable="Parameters"><p class="paragraph">массив объектов нефискальной печати, которые будут напечатаны перед чеком,  массив объектов для печати представлен в <a href="../../ru.aqsi.commons.models.printingModels/-base-printing-model/index.html">ru.aqsi.commons.models.printingModels.BasePrintingModel</a></p></div></div></div></div></div><div class="table-row" data-filterable-current=":commons:dokkaHtml/release" data-filterable-set=":commons:dokkaHtml/release"><div class="main-subrow keyValue WithExtraAttributes"><div class=""><span class="inline-flex"><div><u><span>printing</span><wbr></wbr><span>List</span><wbr></wbr><span><span>After</span></span></u></div></span></div><div><div class="title"><div data-togglable="Parameters"><p class="paragraph">массив объектов нефискальной печати, которые будут напечатаны после чека, ,  массив объектов для печати представлен в <a href="../../ru.aqsi.commons.models.printingModels/-base-printing-model/index.html">ru.aqsi.commons.models.printingModels.BasePrintingModel</a></p></div></div></div></div></div><div class="table-row" data-filterable-current=":commons:dokkaHtml/release" data-filterable-set=":commons:dokkaHtml/release"><div class="main-subrow keyValue WithExtraAttributes"><div class=""><span class="inline-flex"><div><u><span>client</span><wbr></wbr><span>Contact</span><wbr></wbr><span>For</span><wbr></wbr><span>Electro</span><wbr></wbr><span><span>Receipt</span></span></u></div></span></div><div><div class="title"><div data-togglable="Parameters"><p class="paragraph">контакт клиента. Емэйл или телефон клиента, используется для электронного чека.</p><p class="paragraph">Должен соответствовать формату указанному в <a href="http://www.consultant.ru/cons/cgi/online.cgi?req=doc&amp;base=LAW&amp;n=341652&amp;dst=655&amp;date=19.06.2020">ФФД</a> (+{Ц} или {С}@{С}), тэг 1008</p></div></div></div></div></div><div class="table-row" data-filterable-current=":commons:dokkaHtml/release" data-filterable-set=":commons:dokkaHtml/release"><div class="main-subrow keyValue WithExtraAttributes"><div class=""><span class="inline-flex"><div><u><span>client</span><wbr></wbr><span><span>Name</span></span></u></div></span></div><div><div class="title"><div data-togglable="Parameters"><p class="paragraph">получатель, тэг 1227</p></div></div></div></div></div><div class="table-row" data-filterable-current=":commons:dokkaHtml/release" data-filterable-set=":commons:dokkaHtml/release"><div class="main-subrow keyValue WithExtraAttributes"><div class=""><span class="inline-flex"><div><u><span>client</span><wbr></wbr><span><span>Inn</span></span></u></div></span></div><div><div class="title"><div data-togglable="Parameters"><p class="paragraph">инн получателя, тэг 1228</p></div></div></div></div></div></div></div></div></div>
</div>
      <div class="footer">
        <span class="go-to-top-icon"><a href="#content" id="go-to-top-link"></a></span><span>Консультации по использованию библиотеки <b>api@aqsi.ru</b></span><span
                class="pull-right"><span>Generated by </span><a
                href="https://github.com/Kotlin/dokka"><span>dokka</span><span class="padded-icon"></span></a></span>
      </div>
    </div>
</div>
</body>
</html>
